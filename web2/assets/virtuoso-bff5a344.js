import{a,b as ke}from"./react-242e8da7.js";const Ot=0,Z=1,lt=2,pe=4;function Me(e,t){return o=>e(t(o))}function We(e,t){return t(e)}function ge(e,t){return o=>e(t,o)}function te(e,t){return()=>e(t)}function zt(e,t){return t(e),e}function nt(...e){return e}function Ae(e){e()}function ee(e){return()=>e}function De(...e){return()=>{e.map(Ae)}}function Bt(){}function k(e,t){return e(Z,t)}function N(e,t){e(Ot,t)}function $t(e){e(lt)}function _t(e){return e(pe)}function x(e,t){return k(e,ge(t,Ot))}function oe(e,t){const o=e(Z,n=>{o(),t(n)});return o}function _(){const e=[];return(t,o)=>{switch(t){case lt:e.splice(0,e.length);return;case Z:return e.push(o),()=>{const n=e.indexOf(o);n>-1&&e.splice(n,1)};case Ot:e.slice().forEach(n=>{n(o)});return;default:throw new Error(`unrecognized action ${t}`)}}}function h(e){let t=e;const o=_();return(n,r)=>{switch(n){case Z:r(t);break;case Ot:t=r;break;case pe:return t}return o(n,r)}}function Fe(e){let t,o;const n=()=>t&&t();return function(r,s){switch(r){case Z:return s?o===s?void 0:(n(),o=s,t=k(e,s),t):(n(),Bt);case lt:n(),o=null;return;default:throw new Error(`unrecognized action ${r}`)}}}function mt(e){return zt(_(),t=>x(e,t))}function it(e,t){return zt(h(t),o=>x(e,o))}function Ve(...e){return t=>e.reduceRight(We,t)}function g(e,...t){const o=Ve(...t);return(n,r)=>{switch(n){case Z:return k(e,o(r));case lt:$t(e);return}}}function we(e,t){return e===t}function A(e=we){let t;return o=>n=>{e(t,n)||(t=n,o(n))}}function L(e){return t=>o=>{e(o)&&t(o)}}function H(e){return t=>Me(t,e)}function Y(e){return t=>()=>t(e)}function Ct(e,t){return o=>n=>o(t=e(t,n))}function Ft(e){return t=>o=>{e>0?e--:t(o)}}function ft(e){let t=null,o;return n=>r=>{t=r,!o&&(o=setTimeout(()=>{o=void 0,n(t)},e))}}function ne(e){let t,o;return n=>r=>{t=r,o&&clearTimeout(o),o=setTimeout(()=>{n(t)},e)}}function $(...e){const t=new Array(e.length);let o=0,n=null;const r=Math.pow(2,e.length)-1;return e.forEach((s,c)=>{const u=Math.pow(2,c);k(s,f=>{const T=o;o=o|u,t[c]=f,T!==r&&o===r&&n&&(n(),n=null)})}),s=>c=>{const u=()=>s([c].concat(t));o===r?u():n=u}}function re(...e){return function(t,o){switch(t){case Z:return De(...e.map(n=>k(n,o)));case lt:return;default:throw new Error(`unrecognized action ${t}`)}}}function b(e,t=we){return g(e,A(t))}function U(...e){const t=_(),o=new Array(e.length);let n=0;const r=Math.pow(2,e.length)-1;return e.forEach((s,c)=>{const u=Math.pow(2,c);k(s,f=>{o[c]=f,n=n|u,n===r&&N(t,o)})}),function(s,c){switch(s){case Z:return n===r&&c(o),k(t,c);case lt:return $t(t);default:throw new Error(`unrecognized action ${s}`)}}}function j(e,t=[],{singleton:o}={singleton:!0}){return{id:Ge(),constructor:e,dependencies:t,singleton:o}}const Ge=()=>Symbol();function ze(e){const t=new Map,o=({id:n,constructor:r,dependencies:s,singleton:c})=>{if(c&&t.has(n))return t.get(n);const u=r(s.map(f=>o(f)));return c&&t.set(n,u),u};return o(e)}function $e(e,t){const o={},n={};let r=0;const s=e.length;for(;r<s;)n[e[r]]=1,r+=1;for(const c in t)n.hasOwnProperty(c)||(o[c]=t[c]);return o}const bt=typeof document<"u"?a.useLayoutEffect:a.useEffect;function je(e,t,o){const n=Object.keys(t.required||{}),r=Object.keys(t.optional||{}),s=Object.keys(t.methods||{}),c=Object.keys(t.events||{}),u=a.createContext({});function f(p,E){p.propsReady&&N(p.propsReady,!1);for(const d of n){const l=p[t.required[d]];N(l,E[d])}for(const d of r)if(d in E){const l=p[t.optional[d]];N(l,E[d])}p.propsReady&&N(p.propsReady,!0)}function T(p){return s.reduce((E,d)=>(E[d]=l=>{const m=p[t.methods[d]];N(m,l)},E),{})}function R(p){return c.reduce((E,d)=>(E[d]=Fe(p[t.events[d]]),E),{})}return{Component:a.forwardRef((p,E)=>{const{children:d,...l}=p,[m]=a.useState(()=>zt(ze(e),B=>f(B,l))),[v]=a.useState(te(R,m));return bt(()=>{for(const B of c)B in l&&k(v[B],l[B]);return()=>{Object.values(v).map($t)}},[l,v,m]),bt(()=>{f(m,l)}),a.useImperativeHandle(E,ee(T(m))),a.createElement(u.Provider,{value:m},o?a.createElement(o,$e([...n,...r,...c],l),d):d)}),usePublisher:p=>a.useCallback(ge(N,a.useContext(u)[p]),[p]),useEmitterValue:p=>{const d=a.useContext(u)[p],[l,m]=a.useState(te(_t,d));return bt(()=>k(d,v=>{v!==l&&m(ee(v))}),[d,l]),l},useEmitter:(p,E)=>{const l=a.useContext(u)[p];bt(()=>k(l,E),[E,l])}}}const Ue=typeof document<"u"?a.useLayoutEffect:a.useEffect,Ke=Ue;var jt=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(jt||{});const qe={0:"debug",1:"log",2:"warn",3:"error"},Ye=()=>typeof globalThis>"u"?window:globalThis,Se=j(()=>{const e=h(3);return{log:h((o,n,r=1)=>{var s;const c=(s=Ye().VIRTUOSO_LOG_LEVEL)!=null?s:_t(e);r>=c&&console[qe[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",o,n)}),logLevel:e}},[],{singleton:!0});function Te(e,t=!0){const o=a.useRef(null);let n=r=>{};if(typeof ResizeObserver<"u"){const r=a.useMemo(()=>new ResizeObserver(s=>{const c=s[0].target;c.offsetParent!==null&&e(c)}),[e]);n=s=>{s&&t?(r.observe(s),o.current=s):(o.current&&r.unobserve(o.current),o.current=null)}}return{ref:o,callbackRef:n}}function Nt(e,t=!0){return Te(e,t).callbackRef}function It(e,t){return Math.round(e.getBoundingClientRect()[t])}function Ee(e,t){return Math.abs(e-t)<1.01}function Ce(e,t,o,n=Bt,r){const s=a.useRef(null),c=a.useRef(null),u=a.useRef(null),f=a.useCallback(w=>{const S=w.target,I=S===window||S===document,C=I?window.pageYOffset||document.documentElement.scrollTop:S.scrollTop,p=I?document.documentElement.scrollHeight:S.scrollHeight,E=I?window.innerHeight:S.offsetHeight,d=()=>{e({scrollTop:Math.max(C,0),scrollHeight:p,viewportHeight:E})};w.suppressFlushSync?d():ke.flushSync(d),c.current!==null&&(C===c.current||C<=0||C===p-E)&&(c.current=null,t(!0),u.current&&(clearTimeout(u.current),u.current=null))},[e,t]);a.useEffect(()=>{const w=r||s.current;return n(r||s.current),f({target:w,suppressFlushSync:!0}),w.addEventListener("scroll",f,{passive:!0}),()=>{n(null),w.removeEventListener("scroll",f)}},[s,f,o,n,r]);function T(w){const S=s.current;if(!S||"offsetHeight"in S&&S.offsetHeight===0)return;const I=w.behavior==="smooth";let C,p,E;S===window?(p=Math.max(It(document.documentElement,"height"),document.documentElement.scrollHeight),C=window.innerHeight,E=document.documentElement.scrollTop):(p=S.scrollHeight,C=It(S,"height"),E=S.scrollTop);const d=p-C;if(w.top=Math.ceil(Math.max(Math.min(d,w.top),0)),Ee(C,p)||w.top===E){e({scrollTop:E,scrollHeight:p,viewportHeight:C}),I&&t(!0);return}I?(c.current=w.top,u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{u.current=null,c.current=null,t(!0)},1e3)):c.current=null,S.scrollTo(w)}function R(w){s.current.scrollBy(w)}return{scrollerRef:s,scrollByCallback:R,scrollToCallback:T}}const Lt=j(()=>{const e=_(),t=_(),o=h(0),n=_(),r=h(0),s=_(),c=_(),u=h(0),f=h(0),T=h(0),R=h(0),w=_(),S=_(),I=h(!1);return x(g(e,H(({scrollTop:C})=>C)),t),x(g(e,H(({scrollHeight:C})=>C)),c),x(t,r),{scrollContainerState:e,scrollTop:t,viewportHeight:s,headerHeight:u,fixedHeaderHeight:f,fixedFooterHeight:T,footerHeight:R,scrollHeight:c,smoothScrollTargetReached:n,scrollTo:w,scrollBy:S,statefulScrollTop:r,deviation:o,scrollingInProgress:I}},[],{singleton:!0}),Ze=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Je(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!Ze)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const yt="up",ht="down",Qe="none",Xe={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},to=0,be=j(([{scrollContainerState:e,scrollTop:t,viewportHeight:o,headerHeight:n,footerHeight:r,scrollBy:s}])=>{const c=h(!1),u=h(!0),f=_(),T=_(),R=h(4),w=h(to),S=it(g(re(g(b(t),Ft(1),Y(!0)),g(b(t),Ft(1),Y(!1),ne(100))),A()),!1),I=it(g(re(g(s,Y(!0)),g(s,Y(!1),ne(200))),A()),!1);x(g(U(b(t),b(w)),H(([l,m])=>l<=m),A()),u),x(g(u,ft(50)),T);const C=mt(g(U(e,b(o),b(n),b(r),b(R)),Ct((l,[{scrollTop:m,scrollHeight:v},B,z,M,W])=>{const D=m+B-v>-W,J={viewportHeight:B,scrollTop:m,scrollHeight:v};if(D){let ut,X;return m>l.state.scrollTop?(ut="SCROLLED_DOWN",X=l.state.scrollTop-m):(ut="SIZE_DECREASED",X=l.state.scrollTop-m||l.scrollTopDelta),{atBottom:!0,state:J,atBottomBecause:ut,scrollTopDelta:X}}let Q;return J.scrollHeight>l.state.scrollHeight?Q="SIZE_INCREASED":B<l.state.viewportHeight?Q="VIEWPORT_HEIGHT_DECREASING":m<l.state.scrollTop?Q="SCROLLING_UPWARDS":Q="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:Q,state:J}},Xe),A((l,m)=>l&&l.atBottom===m.atBottom))),p=it(g(e,Ct((l,{scrollTop:m,scrollHeight:v,viewportHeight:B})=>{if(Ee(l.scrollHeight,v))return{scrollTop:m,scrollHeight:v,jump:0,changed:!1};{const z=v-(m+B)<1;return l.scrollTop!==m&&z?{scrollHeight:v,scrollTop:m,jump:l.scrollTop-m,changed:!0}:{scrollHeight:v,scrollTop:m,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),L(l=>l.changed),H(l=>l.jump)),0);x(g(C,H(l=>l.atBottom)),c),x(g(c,ft(50)),f);const E=h(ht);x(g(e,H(({scrollTop:l})=>l),A(),Ct((l,m)=>_t(I)?{direction:l.direction,prevScrollTop:m}:{direction:m<l.prevScrollTop?yt:ht,prevScrollTop:m},{direction:ht,prevScrollTop:0}),H(l=>l.direction)),E),x(g(e,ft(50),Y(Qe)),E);const d=h(0);return x(g(S,L(l=>!l),Y(0)),d),x(g(t,ft(100),$(S),L(([l,m])=>!!m),Ct(([l,m],[v])=>[m,v],[0,0]),H(([l,m])=>m-l)),d),{isScrolling:S,isAtTop:u,isAtBottom:c,atBottomState:C,atTopStateChange:T,atBottomStateChange:f,scrollDirection:E,atBottomThreshold:R,atTopThreshold:w,scrollVelocity:d,lastJumpDueToItemResize:p}},nt(Lt)),eo=j(([{log:e}])=>{const t=h(!1),o=mt(g(t,L(n=>n),A()));return k(t,n=>{n&&_t(e)("props updated",{},jt.DEBUG)}),{propsReady:t,didMount:o}},nt(Se),{singleton:!0});function Re(e,t){e==0?t():requestAnimationFrame(()=>Re(e-1,t))}function oo(e,t){const o=t-1;return typeof e=="number"?e:e.index==="LAST"?o:e.index}function Vt(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}function no(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}const xt="top",vt="bottom",se="none";function ce(e,t,o){return typeof e=="number"?o===yt&&t===xt||o===ht&&t===vt?e:0:o===yt?t===xt?e.main:e.reverse:t===vt?e.main:e.reverse}function ie(e,t){return typeof e=="number"?e:e[t]||0}const ro=j(([{scrollTop:e,viewportHeight:t,deviation:o,headerHeight:n,fixedHeaderHeight:r}])=>{const s=_(),c=h(0),u=h(0),f=h(0),T=it(g(U(b(e),b(t),b(n),b(s,Vt),b(f),b(c),b(r),b(o),b(u)),H(([R,w,S,[I,C],p,E,d,l,m])=>{const v=R-l,B=E+d,z=Math.max(S-v,0);let M=se;const W=ie(m,xt),D=ie(m,vt);return I-=l,I+=S+d,C+=S+d,C-=l,I>R+B-W&&(M=yt),C<R-z+w+D&&(M=ht),M!==se?[Math.max(v-S-ce(p,xt,M)-W,0),v-z-d+w+ce(p,vt,M)+D]:null}),L(R=>R!=null),A(Vt)),[0,0]);return{listBoundary:s,overscan:f,topListHeight:c,increaseViewportBy:u,visibleRange:T}},nt(Lt),{singleton:!0}),so=j(([{scrollVelocity:e}])=>{const t=h(!1),o=_(),n=h(!1);return x(g(e,$(n,t,o),L(([r,s])=>!!s),H(([r,s,c,u])=>{const{exit:f,enter:T}=s;if(c){if(f(r,u))return!1}else if(T(r,u))return!0;return c}),A()),t),k(g(U(t,e,o),$(n)),([[r,s,c],u])=>r&&u&&u.change&&u.change(s,c)),{isSeeking:t,scrollSeekConfiguration:n,scrollVelocity:e,scrollSeekRangeChanged:o}},nt(be),{singleton:!0});function co(e){let t=!1,o;return()=>(t||(t=!0,o=e()),o)}const io=j(([{scrollTo:e,scrollContainerState:t}])=>{const o=_(),n=_(),r=_(),s=h(!1),c=h(void 0);return x(g(U(o,n),H(([{viewportHeight:u,scrollTop:f,scrollHeight:T},{offsetTop:R}])=>({scrollTop:Math.max(0,f-R),scrollHeight:T,viewportHeight:u}))),t),x(g(e,$(n),H(([u,{offsetTop:f}])=>({...u,top:u.top+f}))),r),{useWindowScroll:s,customScrollParent:c,windowScrollContainerState:o,windowViewportRect:n,windowScrollTo:r}},nt(Lt)),At="-webkit-sticky",le="sticky",Ie=co(()=>{if(typeof document>"u")return le;const e=document.createElement("div");return e.style.position=At,e.style.position===At?At:le});function lo(e,t){const o=a.useRef(null),n=a.useCallback(u=>{if(u===null||!u.offsetParent)return;const f=u.getBoundingClientRect(),T=f.width;let R,w;if(t){const S=t.getBoundingClientRect(),I=f.top-S.top;R=S.height-Math.max(0,I),w=I+t.scrollTop}else R=window.innerHeight-Math.max(0,f.top),w=f.top+window.pageYOffset;o.current={offsetTop:w,visibleHeight:R,visibleWidth:T},e(o.current)},[e,t]),{callbackRef:r,ref:s}=Te(n),c=a.useCallback(()=>{n(s.current)},[n,s]);return a.useEffect(()=>{if(t){t.addEventListener("scroll",c);const u=new ResizeObserver(c);return u.observe(t),()=>{t.removeEventListener("scroll",c),u.unobserve(t)}}else return window.addEventListener("scroll",c),window.addEventListener("resize",c),()=>{window.removeEventListener("scroll",c),window.removeEventListener("resize",c)}},[c,t]),r}a.createContext(void 0);const ye=a.createContext(void 0);function uo(e){return e}Ie();const ao={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},xe={width:"100%",height:"100%",position:"absolute",top:0};Ie();function ot(e,t){if(typeof e!="string")return{context:t}}function fo({usePublisher:e,useEmitter:t,useEmitterValue:o}){return a.memo(function({style:s,children:c,...u}){const f=e("scrollContainerState"),T=o("ScrollerComponent"),R=e("smoothScrollTargetReached"),w=o("scrollerRef"),S=o("context"),{scrollerRef:I,scrollByCallback:C,scrollToCallback:p}=Ce(f,R,T,w);return t("scrollTo",p),t("scrollBy",C),a.createElement(T,{ref:I,style:{...ao,...s},"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...u,...ot(T,S)},c)})}function mo({usePublisher:e,useEmitter:t,useEmitterValue:o}){return a.memo(function({style:s,children:c,...u}){const f=e("windowScrollContainerState"),T=o("ScrollerComponent"),R=e("smoothScrollTargetReached"),w=o("totalListHeight"),S=o("deviation"),I=o("customScrollParent"),C=o("context"),{scrollerRef:p,scrollByCallback:E,scrollToCallback:d}=Ce(f,R,T,Bt,I);return Ke(()=>(p.current=I||window,()=>{p.current=null}),[p,I]),t("windowScrollTo",d),t("scrollBy",E),a.createElement(T,{style:{position:"relative",...s,...w!==0?{height:w+S}:{}},"data-virtuoso-scroller":!0,...u,...ot(T,C)},c)})}const ue={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},ho={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:ae,ceil:de,floor:Ht,min:Dt,max:pt}=Math;function po(e){return{...ho,items:e}}function fe(e,t,o){return Array.from({length:t-e+1}).map((n,r)=>{const s=o===null?null:o[r+e];return{index:r+e,data:s}})}function go(e,t){return e&&e.column===t.column&&e.row===t.row}function Rt(e,t){return e&&e.width===t.width&&e.height===t.height}const wo=j(([{overscan:e,visibleRange:t,listBoundary:o},{scrollTop:n,viewportHeight:r,scrollBy:s,scrollTo:c,smoothScrollTargetReached:u,scrollContainerState:f,footerHeight:T,headerHeight:R},w,S,{propsReady:I,didMount:C},{windowViewportRect:p,useWindowScroll:E,customScrollParent:d,windowScrollContainerState:l,windowScrollTo:m},v])=>{const B=h(0),z=h(0),M=h(ue),W=h({height:0,width:0}),D=h({height:0,width:0}),J=_(),Q=_(),ut=h(0),X=h(null),rt=h({row:0,column:0}),Ut=_(),Pt=_(),at=h(!1),gt=h(0),wt=h(!0),Kt=h(!1);k(g(C,$(gt),L(([i,y])=>!!y)),()=>{N(wt,!1),N(z,0)}),k(g(U(C,wt,D,W,gt,Kt),L(([i,y,P,V,,K])=>i&&!y&&P.height!==0&&V.height!==0&&!K)),([,,,,i])=>{N(Kt,!0),Re(1,()=>{N(J,i)}),oe(g(n),()=>{N(o,[0,0]),N(wt,!0)})}),x(g(Pt,L(i=>i!=null&&i.scrollTop>0),Y(0)),z),k(g(C,$(Pt),L(([,i])=>i!=null)),([,i])=>{i&&(N(W,i.viewport),N(D,i==null?void 0:i.item),N(rt,i.gap),i.scrollTop>0&&(N(at,!0),oe(g(n,Ft(1)),y=>{N(at,!1)}),N(c,{top:i.scrollTop})))}),x(g(W,H(({height:i})=>i)),r),x(g(U(b(W,Rt),b(D,Rt),b(rt,(i,y)=>i&&i.column===y.column&&i.row===y.row),b(n)),H(([i,y,P,V])=>({viewport:i,item:y,gap:P,scrollTop:V}))),Ut),x(g(U(b(B),t,b(rt,go),b(D,Rt),b(W,Rt),b(X),b(z),b(at),b(wt),b(gt)),L(([,,,,,,,i])=>!i),H(([i,[y,P],V,K,tt,dt,st,,St,q])=>{const{row:F,column:Ne}=V,{height:Tt,width:Mt}=K,{width:Yt}=tt;if(st===0&&(i===0||Yt===0))return ue;if(Mt===0){const Wt=oo(q,i),Pe=Wt===0?Math.max(st-1,0):Wt;return po(fe(Wt,Pe,dt))}const Et=ve(Yt,Mt,Ne);let ct,et;St?y===0&&P===0&&st>0?(ct=0,et=st-1):(ct=Et*Ht((y+F)/(Tt+F)),et=Et*de((P+F)/(Tt+F))-1,et=Dt(i-1,pt(et,Et-1)),ct=Dt(et,pt(0,ct))):(ct=0,et=-1);const Zt=fe(ct,et,dt),{top:Jt,bottom:Qt}=me(tt,V,K,Zt),Xt=de(i/Et),Le=Xt*Tt+(Xt-1)*F-Qt;return{items:Zt,offsetTop:Jt,offsetBottom:Le,top:Jt,bottom:Qt,itemHeight:Tt,itemWidth:Mt}})),M),x(g(X,L(i=>i!==null),H(i=>i.length)),B),x(g(U(W,D,M,rt),L(([i,y,{items:P}])=>P.length>0&&y.height!==0&&i.height!==0),H(([i,y,{items:P},V])=>{const{top:K,bottom:tt}=me(i,V,y,P);return[K,tt]}),A(Vt)),o);const kt=h(!1);x(g(n,$(kt),H(([i,y])=>y||i!==0)),kt);const Oe=mt(g(b(M),L(({items:i})=>i.length>0),$(B,kt),L(([{items:i},y,P])=>P&&i[i.length-1].index===y-1),H(([,i])=>i-1),A())),Be=mt(g(b(M),L(({items:i})=>i.length>0&&i[0].index===0),Y(0),A())),qt=mt(g(b(M),$(at),L(([{items:i},y])=>i.length>0&&!y),H(([{items:i}])=>({startIndex:i[0].index,endIndex:i[i.length-1].index})),A(no),ft(0)));x(qt,S.scrollSeekRangeChanged),x(g(J,$(W,D,B,rt),H(([i,y,P,V,K])=>{const tt=Je(i),{align:dt,behavior:st,offset:St}=tt;let q=tt.index;q==="LAST"&&(q=V-1),q=pt(0,q,Dt(V-1,q));let F=Gt(y,K,P,q);return dt==="end"?F=ae(F-y.height+P.height):dt==="center"&&(F=ae(F-y.height/2+P.height/2)),St&&(F+=St),{top:F,behavior:st}})),c);const _e=it(g(M,H(i=>i.offsetBottom+i.bottom)),0);return x(g(p,H(i=>({width:i.visibleWidth,height:i.visibleHeight}))),W),{data:X,totalCount:B,viewportDimensions:W,itemDimensions:D,scrollTop:n,scrollHeight:Q,overscan:e,scrollBy:s,scrollTo:c,scrollToIndex:J,smoothScrollTargetReached:u,windowViewportRect:p,windowScrollTo:m,useWindowScroll:E,customScrollParent:d,windowScrollContainerState:l,deviation:ut,scrollContainerState:f,footerHeight:T,headerHeight:R,initialItemCount:z,gap:rt,restoreStateFrom:Pt,...S,initialTopMostItemIndex:gt,gridState:M,totalListHeight:_e,...w,startReached:Be,endReached:Oe,rangeChanged:qt,stateChanged:Ut,propsReady:I,stateRestoreInProgress:at,...v}},nt(ro,Lt,be,so,eo,io,Se));function me(e,t,o,n){const{height:r}=o;if(r===void 0||n.length===0)return{top:0,bottom:0};const s=Gt(e,t,o,n[0].index),c=Gt(e,t,o,n[n.length-1].index)+r;return{top:s,bottom:c}}function Gt(e,t,o,n){const r=ve(e.width,o.width,t.column),s=Ht(n/r),c=s*o.height+pt(0,s-1)*t.row;return c>0?c+t.row:c}function ve(e,t,o){return pt(1,Ht((e+o)/(Ht(t)+o)))}const So=j(()=>{const e=h(T=>`Item ${T}`),t=h({}),o=h(null),n=h("virtuoso-grid-item"),r=h("virtuoso-grid-list"),s=h(uo),c=h("div"),u=h(Bt),f=(T,R=null)=>it(g(t,H(w=>w[T]),A()),R);return{context:o,itemContent:e,components:t,computeItemKey:s,itemClassName:n,listClassName:r,headerFooterTag:c,scrollerRef:u,FooterComponent:f("Footer"),HeaderComponent:f("Header"),ListComponent:f("List","div"),ItemComponent:f("Item","div"),ScrollerComponent:f("Scroller","div"),ScrollSeekPlaceholder:f("ScrollSeekPlaceholder","div")}}),To=j(([e,t])=>({...e,...t}),nt(wo,So)),Eo=a.memo(function(){const t=O("gridState"),o=O("listClassName"),n=O("itemClassName"),r=O("itemContent"),s=O("computeItemKey"),c=O("isSeeking"),u=G("scrollHeight"),f=O("ItemComponent"),T=O("ListComponent"),R=O("ScrollSeekPlaceholder"),w=O("context"),S=G("itemDimensions"),I=G("gap"),C=O("log"),p=O("stateRestoreInProgress"),E=Nt(d=>{const l=d.parentElement.parentElement.scrollHeight;u(l);const m=d.firstChild;if(m){const{width:v,height:B}=m.getBoundingClientRect();S({width:v,height:B})}I({row:he("row-gap",getComputedStyle(d).rowGap,C),column:he("column-gap",getComputedStyle(d).columnGap,C)})});return p?null:a.createElement(T,{ref:E,className:o,...ot(T,w),style:{paddingTop:t.offsetTop,paddingBottom:t.offsetBottom},"data-test-id":"virtuoso-item-list"},t.items.map(d=>{const l=s(d.index,d.data,w);return c?a.createElement(R,{key:l,...ot(R,w),index:d.index,height:t.itemHeight,width:t.itemWidth}):a.createElement(f,{...ot(f,w),className:n,"data-index":d.index,key:l},r(d.index,d.data,w))}))}),Co=a.memo(function(){const t=O("HeaderComponent"),o=G("headerHeight"),n=O("headerFooterTag"),r=Nt(c=>o(It(c,"height"))),s=O("context");return t?a.createElement(n,{ref:r},a.createElement(t,ot(t,s))):null}),bo=a.memo(function(){const t=O("FooterComponent"),o=G("footerHeight"),n=O("headerFooterTag"),r=Nt(c=>o(It(c,"height"))),s=O("context");return t?a.createElement(n,{ref:r},a.createElement(t,ot(t,s))):null}),Ro=({children:e})=>{const t=a.useContext(ye),o=G("itemDimensions"),n=G("viewportDimensions"),r=Nt(s=>{n(s.getBoundingClientRect())});return a.useEffect(()=>{t&&(n({height:t.viewportHeight,width:t.viewportWidth}),o({height:t.itemHeight,width:t.itemWidth}))},[t,n,o]),a.createElement("div",{style:xe,ref:r},e)},Io=({children:e})=>{const t=a.useContext(ye),o=G("windowViewportRect"),n=G("itemDimensions"),r=O("customScrollParent"),s=lo(o,r);return a.useEffect(()=>{t&&(n({height:t.itemHeight,width:t.itemWidth}),o({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,o,n]),a.createElement("div",{ref:s,style:xe},e)},yo=a.memo(function({...t}){const o=O("useWindowScroll"),n=O("customScrollParent"),r=n||o?Ho:vo,s=n||o?Io:Ro;return a.createElement(r,{...t},a.createElement(s,null,a.createElement(Co,null),a.createElement(Eo,null),a.createElement(bo,null)))}),{Component:xo,usePublisher:G,useEmitterValue:O,useEmitter:He}=je(To,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged"}},yo),vo=fo({usePublisher:G,useEmitterValue:O,useEmitter:He}),Ho=mo({usePublisher:G,useEmitterValue:O,useEmitter:He});function he(e,t,o){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&o(`${e} was not resolved to pixel value correctly`,t,jt.WARN),t==="normal"?0:parseInt(t??"0",10)}const _o=xo;export{_o as V};
